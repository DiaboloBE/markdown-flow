# Variables

Variables are the foundation of dynamic content in MarkdownFlow. They allow you to create templates that adapt to different users and contexts.

## Basic Syntax

Variables are enclosed in double curly braces:

```markdown
{{variable_name}}
```

## Variable Naming

Follow these conventions for variable names:

- Use lowercase letters, numbers, and underscores
- Start with a letter
- Be descriptive and meaningful
- Use snake_case for multi-word names

### Good Examples

```markdown
{{user_name}}
{{current_date}}
{{skill_level}}
{{selected_option}}
```

### Poor Examples

```markdown
{{x}} # Too vague
{{UserName}} # Use snake_case instead
{{123_var}} # Don't start with numbers
```

## Variable Types

### 1. User Profile Variables

Information about the user:

```markdown
Welcome back, {{user_name}}!
Your account type: {{account_type}}
Member since: {{join_date}}
```

### 2. Context Variables

Information about the current session or environment:

```markdown
Current lesson: {{lesson_title}}
Progress: {{completion_percentage}}%
Time remaining: {{time_left}} minutes
```

### 3. User Input Variables

Values collected from user interactions:

```markdown
You selected: {{user_choice}}
Your answer: {{user_response}}
Preferences: {{user_preferences}}
```

### 4. Computed Variables

Values calculated or generated by the system:

```markdown
Your score: {{total_score}}
Recommended next step: {{next_action}}
Personalized tip: {{custom_tip}}
```

## Variable Interpolation

Variables can be used anywhere in your markdown:

### In Headings

```markdown
# Welcome to {{course_name}}

## Chapter {{chapter_number}}: {{chapter_title}}
```

### In Paragraphs

```markdown
Hello {{user_name}}, based on your {{skill_level}} level,
we recommend starting with {{recommended_module}}.
```

### In Lists

```markdown
Your learning path:

1. {{step_1_title}} - {{step_1_duration}}
2. {{step_2_title}} - {{step_2_duration}}
3. {{step_3_title}} - {{step_3_duration}}
```

### In Links

```markdown
[View your profile](/users/{{user_id}})
[Continue to {{next_lesson_title}}]({{next_lesson_url}})
```

## Conditional Content

Variables are often used with AI instructions for conditional content:

```markdown
Generate content based on {{user_level}}:

If {{user_level}} is "beginner":
Provide simple explanations with many examples.

If {{user_level}} is "intermediate":
Include technical details and best practices.

If {{user_level}} is "advanced":
Focus on optimization and edge cases.
```

## Default Values

You can suggest default values in your instructions:

```markdown
Welcome {{user_name|Guest}}!

The syntax {{variable|default}} indicates a fallback value.
```

## Variable Scoping

Variables can have different scopes:

### Global Variables

Available throughout the entire document:

```markdown
{{app_name}}
{{company_name}}
{{current_year}}
```

### Section Variables

Specific to a section or module:

```markdown
## Module: {{module_name}}

In this module about {{module_topic}}, you'll learn:

- {{learning_objective_1}}
- {{learning_objective_2}}
```

### Temporary Variables

Used for specific interactions:

```markdown
?[%{{temp_choice}}Yes|No]

Based on your answer "{{temp_choice}}", we'll proceed accordingly.
```

## Best Practices

### 1. Use Descriptive Names

```markdown
Good: {{user_subscription_level}}
Poor: {{level}}
```

### 2. Group Related Variables

```markdown
Profile: {{user_name}}, {{user_email}}, {{user_role}}
Course: {{course_title}}, {{course_duration}}, {{course_difficulty}}
```

### 3. Document Your Variables

Create a variable reference:

```markdown
<!-- Variable Reference
{{user_name}} - The user's display name
{{course_id}} - Unique identifier for the course
{{progress}} - Completion percentage (0-100)
-->
```

### 4. Validate Variable Usage

Ensure variables are defined before use:

```markdown
<!-- Ensure these variables are set -->

Required: {{user_id}}, {{session_id}}

<!-- Then use them -->

Tracking: User {{user_id}} in session {{session_id}}
```

## Advanced Usage

### Nested Variables

Variables within AI instructions:

```markdown
Generate a {{content_type}} about {{topic}} for someone with
{{years_experience}} years of experience in {{field}}.
```

### Variable Transformation

Request specific formatting:

```markdown
Display {{user_name}} in uppercase.
Show {{price}} formatted as currency.
Convert {{date}} to readable format.
```

### Arrays and Objects

Working with structured data:

```markdown
Your skills: {{skills[0]}}, {{skills[1]}}, {{skills[2]}}
Address: {{address.street}}, {{address.city}}, {{address.country}}
```

## Common Patterns

### Personalization

```markdown
Hi {{first_name}},

Based on your interests in {{interests}}, we've prepared
a custom {{content_type}} just for you.
```

### Progress Tracking

```markdown
## Your Progress

- Completed: {{completed_lessons}} lessons
- Current: {{current_lesson}}
- Remaining: {{remaining_lessons}} lessons
- Estimated time: {{estimated_hours}} hours
```

### Dynamic Navigation

```markdown
[← Previous: {{previous_title}}]({{previous_url}})
[Next: {{next_title}} →]({{next_url}})
```

## Troubleshooting

### Variable Not Replaced

If you see `{{variable}}` in output:

- Check variable name spelling
- Ensure variable is defined
- Verify variable scope

### Empty Variables

Handle missing values gracefully:

```markdown
Welcome {{user_name|there}}!
Your level: {{level|not set}}
```

### Special Characters

Escape special characters if needed:

```markdown
To display literal braces: \{\{not_a_variable\}\}
```

## Next Steps

- [User Input](user-input.md) - Collect values for variables
- [AI Instructions](ai-instructions.md) - Use variables in AI directives
- [Examples](examples.md) - See variables in complete templates
